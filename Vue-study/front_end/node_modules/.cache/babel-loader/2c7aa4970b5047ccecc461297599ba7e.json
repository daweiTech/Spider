{"remainingRequest":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue","mtime":1673006195000},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\babel.config.js","mtime":1673006195000},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1673935857034},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1673935857333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3b3JkX2Nsb3VkIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXI6ICIiLAogICAgICBteUNoYXJ0OiAiIiwKICAgICAgY2xvdWRfd29yZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbG91ZFdvcmQoaWQpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCJ3b3JkX2Nsb3VkP3RhZ190YXNrX2lkPSIgKyBpZCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLmNsb3VkX3dvcmQgPSByZXMuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5teVdvcmRDbG91ZChyZXMuZGF0YS5kYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBteVdvcmRDbG91ZChkYXRhKSB7CiAgICAgIGxldCBvcHRpb247CiAgICAgIGlmICh0aGlzLm15Q2hhcnQgIT0gbnVsbCAmJiB0aGlzLm15Q2hhcnQgIT0gIiIgJiYgdGhpcy5teUNoYXJ0ICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMubXlDaGFydC5kaXNwb3NlKCk7IC8v6Kej5YazZWNoYXJ0cyBkb23lt7Lnu4/liqDovb3nmoTmiqXplJkKICAgICAgfQoKICAgICAgdGhpcy5teUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFyc193b3JkX2Nsb3VkIikpOwogICAgICAvLyDmjIflrprlm77ooajnmoTphY3nva7pobnlkozmlbDmja4KICAgICAgb3B0aW9uID0gewogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHNob3c6IHRydWUKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIHR5cGU6ICJ3b3JkQ2xvdWQiLAogICAgICAgICAgc2l6ZVJhbmdlOiBbMTAsIDUwXSwKICAgICAgICAgIC8v5paH5a2X6IyD5Zu0CiAgICAgICAgICAvL+aWh+acrOaXi+i9rOiMg+WbtO+8jOaWh+acrOWwhumAmui/h3JvdGF0aW9uU3RlcDQ15ZyoWy05MCw5MF3ojIPlm7TlhoXpmo/mnLrml4vovawKICAgICAgICAgIHJvdGF0aW9uUmFuZ2U6IFstNDUsIDkwXSwKICAgICAgICAgIHJvdGF0aW9uU3RlcDogNDUsCiAgICAgICAgICB0ZXh0Um90YXRpb246IFswLCA0NSwgOTAsIC00NV0sCiAgICAgICAgICAvL+W9oueKtgogICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgLy/mloflrZfpopzoibLnmoTpmo/mnLroibIKICAgICAgICAgICAgICByZXR1cm4gInJnYigiICsgW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDIwMCksIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMCksIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDMwMCldLmpvaW4oIiwiKSArICIpIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9XQogICAgICB9OwogICAgICB0aGlzLm15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgICAgIC8vIOS9v+eUqOWImuaMh+WumueahOmFjee9rumhueWSjOaVsOaNruaYvuekuuWbvuihqOOAggogICAgICBvcHRpb24gJiYgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJGJ1cy4kb24oInNlbmRfdGFnX3Rhc2tfaWQiLCB0YWdfdGFza19pZCA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCLov5nph4zmmK/or43kupHnu4Tku7Ys5pS25Yiw5LqG5pWw5o2uOiIsIHRhZ190YXNrX2lkKTsKICAgICAgdGhpcy5nZXRDbG91ZFdvcmQodGFnX3Rhc2tfaWQpOwogICAgfSk7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLm15V29yZENsb3VkKHRoaXMuY2xvdWRfd29yZCk7CiAgICB9LCA1MDAwKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLiRidXMuJG9mZigic2VuZF90YWdfdGFza19pZCIpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfTs="},{"version":3,"mappings":"AAeA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACA;QACA;MACA;IACA;IACAC;MACA;MACA,IACA,wBACA,sBACA,2BACA;QACA;MACA;;MACA,kCACAC,4CACA;MACA;MACAC;QACAC;UACAC;QACA;QACAC,SACA;UACAC;UACAC;UAAA;UACA;UACAC;UACAC;UACAC;UACA;UACAC;YACAC;cACA;cACA,OACA,SACA,CACAC,iCACAA,iCACAA,gCACA,aACA;YAEA;UACA;UACApB;QACA;MAEA;MACA;MACA;MACAS;IACA;EACA;EACAY;IAEA;MACAf;MACA;IACA;IACA;MACA;IACA;EACA;EACAgB;IACA;IACAC;IACA;EACA;AACA","names":["name","data","timer","myChart","cloud_word","methods","getCloudWord","console","myWordCloud","document","option","tooltip","show","series","type","sizeRange","rotationRange","rotationStep","textRotation","textStyle","color","Math","mounted","beforeDestroy","clearInterval"],"sourceRoot":"src/components/wbAnalyze","sources":["Word_cloud.vue"],"sourcesContent":["<template>\n  <div class=\"word_cloud\">\n    <div class=\"word_cloud_top\">\n      <svg class=\"icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-ciyuntu\"></use>\n      </svg>\n      <span class=\"title_text\"> 词云 </span>\n    </div>\n    <div class=\"show_words\">\n      <div id=\"chars_word_cloud\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"word_cloud\",\n  data() {\n    return {\n      timer: \"\",\n      myChart: \"\",\n      cloud_word: \"\",\n    };\n  },\n  methods: {\n    getCloudWord(id) {\n      this.$axios.get(\"word_cloud?tag_task_id=\" + id).then((res) => {\n        console.log(res.data)\n        this.cloud_word = res.data.data.data;\n        this.myWordCloud(res.data.data.data);\n      });\n    },\n    myWordCloud(data) {\n      let option;\n      if (\n        this.myChart != null &&\n        this.myChart != \"\" &&\n        this.myChart != undefined\n      ) {\n        this.myChart.dispose(); //解决echarts dom已经加载的报错\n      }\n      this.myChart = this.$echarts.init(\n        document.getElementById(\"chars_word_cloud\")\n      );\n      // 指定图表的配置项和数据\n      option = {\n        tooltip: {\n          show: true,\n        },\n        series: [\n          {\n            type: \"wordCloud\",\n            sizeRange: [10, 50], //文字范围\n            //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\n            rotationRange: [-45, 90],\n            rotationStep: 45,\n            textRotation: [0, 45, 90, -45],\n            //形状\n            textStyle: {\n              color: function () {\n                //文字颜色的随机色\n                return (\n                  \"rgb(\" +\n                  [\n                    Math.round(Math.random() * 200),\n                    Math.round(Math.random() * 100),\n                    Math.round(Math.random() * 300),\n                  ].join(\",\") +\n                  \")\"\n                );\n              },\n            },\n            data: data,\n          },\n        ],\n      };\n      this.myChart.setOption(option);\n      // 使用刚指定的配置项和数据显示图表。\n      option && this.myChart.setOption(option);\n    },\n  },\n  mounted() {\n\n    this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\n      console.log(\"这里是词云组件,收到了数据:\", tag_task_id);\n      this.getCloudWord(tag_task_id);\n    });\n    this.timer = setInterval(() => {\n      this.myWordCloud(this.cloud_word);\n    }, 5000);\n  },\n  beforeDestroy() {\n    this.$bus.$off(\"send_tag_task_id\");\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n};\n</script>\n\n<style scpoed>\n.word_cloud {\n  position: absolute;\n  width: 100%;\n  height: 30%;\n  background-color: #fff;\n}\n.word_cloud_top {\n  margin-left: 10px;\n}\n.w_title {\n  padding-top: 10px;\n  height: 50px;\n  text-align: center;\n  font-size: 20px;\n}\n#chars_word_cloud {\n  width: 400px;\n  height: 200px;\n  top: -10px;\n}\n.icon {\n  position: relative;\n  top: 8px;\n}\n</style>"]}]}