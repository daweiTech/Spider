{"remainingRequest":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue","mtime":1673006195000},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1673935857034},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1673935857333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAid29yZF9jbG91ZCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpbWVyOiAiIiwKICAgICAgbXlDaGFydDogIiIsCiAgICAgIGNsb3VkX3dvcmQ6ICIiLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENsb3VkV29yZChpZCkgewogICAgICB0aGlzLiRheGlvcy5nZXQoIndvcmRfY2xvdWQ/dGFnX3Rhc2tfaWQ9IiArIGlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICB0aGlzLmNsb3VkX3dvcmQgPSByZXMuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5teVdvcmRDbG91ZChyZXMuZGF0YS5kYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBteVdvcmRDbG91ZChkYXRhKSB7CiAgICAgIGxldCBvcHRpb247CiAgICAgIGlmICgKICAgICAgICB0aGlzLm15Q2hhcnQgIT0gbnVsbCAmJgogICAgICAgIHRoaXMubXlDaGFydCAhPSAiIiAmJgogICAgICAgIHRoaXMubXlDaGFydCAhPSB1bmRlZmluZWQKICAgICAgKSB7CiAgICAgICAgdGhpcy5teUNoYXJ0LmRpc3Bvc2UoKTsgLy/op6PlhrNlY2hhcnRzIGRvbeW3sue7j+WKoOi9veeahOaKpemUmQogICAgICB9CiAgICAgIHRoaXMubXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdCgKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcnNfd29yZF9jbG91ZCIpCiAgICAgICk7CiAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrgogICAgICBvcHRpb24gPSB7CiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAid29yZENsb3VkIiwKICAgICAgICAgICAgc2l6ZVJhbmdlOiBbMTAsIDUwXSwgLy/mloflrZfojIPlm7QKICAgICAgICAgICAgLy/mlofmnKzml4vovazojIPlm7TvvIzmlofmnKzlsIbpgJrov4dyb3RhdGlvblN0ZXA0NeWcqFstOTAsOTBd6IyD5Zu05YaF6ZqP5py65peL6L2sCiAgICAgICAgICAgIHJvdGF0aW9uUmFuZ2U6IFstNDUsIDkwXSwKICAgICAgICAgICAgcm90YXRpb25TdGVwOiA0NSwKICAgICAgICAgICAgdGV4dFJvdGF0aW9uOiBbMCwgNDUsIDkwLCAtNDVdLAogICAgICAgICAgICAvL+W9oueKtgogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy/mloflrZfpopzoibLnmoTpmo/mnLroibIKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgICJyZ2IoIiArCiAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyMDApLAogICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMCksCiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMzAwKSwKICAgICAgICAgICAgICAgICAgXS5qb2luKCIsIikgKwogICAgICAgICAgICAgICAgICAiKSIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfTsKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgICAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIIKICAgICAgb3B0aW9uICYmIHRoaXMubXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewoKICAgIHRoaXMuJGJ1cy4kb24oInNlbmRfdGFnX3Rhc2tfaWQiLCAodGFnX3Rhc2tfaWQpID0+IHsKICAgICAgY29uc29sZS5sb2coIui/memHjOaYr+ivjeS6kee7hOS7tizmlLbliLDkuobmlbDmja46IiwgdGFnX3Rhc2tfaWQpOwogICAgICB0aGlzLmdldENsb3VkV29yZCh0YWdfdGFza19pZCk7CiAgICB9KTsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMubXlXb3JkQ2xvdWQodGhpcy5jbG91ZF93b3JkKTsKICAgIH0sIDUwMDApOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJGJ1cy4kb2ZmKCJzZW5kX3RhZ190YXNrX2lkIik7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgdGhpcy50aW1lciA9IG51bGw7CiAgfSwKfTsK"},{"version":3,"sources":["Word_cloud.vue"],"names":[],"mappings":";AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Word_cloud.vue","sourceRoot":"src/components/wbAnalyze","sourcesContent":["<template>\n  <div class=\"word_cloud\">\n    <div class=\"word_cloud_top\">\n      <svg class=\"icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-ciyuntu\"></use>\n      </svg>\n      <span class=\"title_text\"> 词云 </span>\n    </div>\n    <div class=\"show_words\">\n      <div id=\"chars_word_cloud\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"word_cloud\",\n  data() {\n    return {\n      timer: \"\",\n      myChart: \"\",\n      cloud_word: \"\",\n    };\n  },\n  methods: {\n    getCloudWord(id) {\n      this.$axios.get(\"word_cloud?tag_task_id=\" + id).then((res) => {\n        console.log(res.data)\n        this.cloud_word = res.data.data.data;\n        this.myWordCloud(res.data.data.data);\n      });\n    },\n    myWordCloud(data) {\n      let option;\n      if (\n        this.myChart != null &&\n        this.myChart != \"\" &&\n        this.myChart != undefined\n      ) {\n        this.myChart.dispose(); //解决echarts dom已经加载的报错\n      }\n      this.myChart = this.$echarts.init(\n        document.getElementById(\"chars_word_cloud\")\n      );\n      // 指定图表的配置项和数据\n      option = {\n        tooltip: {\n          show: true,\n        },\n        series: [\n          {\n            type: \"wordCloud\",\n            sizeRange: [10, 50], //文字范围\n            //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\n            rotationRange: [-45, 90],\n            rotationStep: 45,\n            textRotation: [0, 45, 90, -45],\n            //形状\n            textStyle: {\n              color: function () {\n                //文字颜色的随机色\n                return (\n                  \"rgb(\" +\n                  [\n                    Math.round(Math.random() * 200),\n                    Math.round(Math.random() * 100),\n                    Math.round(Math.random() * 300),\n                  ].join(\",\") +\n                  \")\"\n                );\n              },\n            },\n            data: data,\n          },\n        ],\n      };\n      this.myChart.setOption(option);\n      // 使用刚指定的配置项和数据显示图表。\n      option && this.myChart.setOption(option);\n    },\n  },\n  mounted() {\n\n    this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\n      console.log(\"这里是词云组件,收到了数据:\", tag_task_id);\n      this.getCloudWord(tag_task_id);\n    });\n    this.timer = setInterval(() => {\n      this.myWordCloud(this.cloud_word);\n    }, 5000);\n  },\n  beforeDestroy() {\n    this.$bus.$off(\"send_tag_task_id\");\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n};\n</script>\n\n<style scpoed>\n.word_cloud {\n  position: absolute;\n  width: 100%;\n  height: 30%;\n  background-color: #fff;\n}\n.word_cloud_top {\n  margin-left: 10px;\n}\n.w_title {\n  padding-top: 10px;\n  height: 50px;\n  text-align: center;\n  font-size: 20px;\n}\n#chars_word_cloud {\n  width: 400px;\n  height: 200px;\n  top: -10px;\n}\n.icon {\n  position: relative;\n  top: 8px;\n}\n</style>"]}]}