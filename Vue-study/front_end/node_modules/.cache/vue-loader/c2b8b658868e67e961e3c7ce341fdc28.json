{"remainingRequest":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue?vue&type=style&index=0&id=14e200be&scpoed=true&lang=css&","dependencies":[{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\components\\wbAnalyze\\Word_cloud.vue","mtime":1673006195000},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\css-loader\\dist\\cjs.js","mtime":1673935854963},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1673935858031},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\postcss-loader\\src\\index.js","mtime":1673935856162},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1673935857333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci53b3JkX2Nsb3VkIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAzMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoud29yZF9jbG91ZF90b3AgewogIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Ci53X3RpdGxlIHsKICBwYWRkaW5nLXRvcDogMTBweDsKICBoZWlnaHQ6IDUwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtc2l6ZTogMjBweDsKfQojY2hhcnNfd29yZF9jbG91ZCB7CiAgd2lkdGg6IDQwMHB4OwogIGhlaWdodDogMjAwcHg7CiAgdG9wOiAtMTBweDsKfQouaWNvbiB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogOHB4Owp9Cg=="},{"version":3,"sources":["Word_cloud.vue"],"names":[],"mappings":";AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Word_cloud.vue","sourceRoot":"src/components/wbAnalyze","sourcesContent":["<template>\n  <div class=\"word_cloud\">\n    <div class=\"word_cloud_top\">\n      <svg class=\"icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-ciyuntu\"></use>\n      </svg>\n      <span class=\"title_text\"> 词云 </span>\n    </div>\n    <div class=\"show_words\">\n      <div id=\"chars_word_cloud\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"word_cloud\",\n  data() {\n    return {\n      timer: \"\",\n      myChart: \"\",\n      cloud_word: \"\",\n    };\n  },\n  methods: {\n    getCloudWord(id) {\n      this.$axios.get(\"word_cloud?tag_task_id=\" + id).then((res) => {\n        console.log(res.data)\n        this.cloud_word = res.data.data.data;\n        this.myWordCloud(res.data.data.data);\n      });\n    },\n    myWordCloud(data) {\n      let option;\n      if (\n        this.myChart != null &&\n        this.myChart != \"\" &&\n        this.myChart != undefined\n      ) {\n        this.myChart.dispose(); //解决echarts dom已经加载的报错\n      }\n      this.myChart = this.$echarts.init(\n        document.getElementById(\"chars_word_cloud\")\n      );\n      // 指定图表的配置项和数据\n      option = {\n        tooltip: {\n          show: true,\n        },\n        series: [\n          {\n            type: \"wordCloud\",\n            sizeRange: [10, 50], //文字范围\n            //文本旋转范围，文本将通过rotationStep45在[-90,90]范围内随机旋转\n            rotationRange: [-45, 90],\n            rotationStep: 45,\n            textRotation: [0, 45, 90, -45],\n            //形状\n            textStyle: {\n              color: function () {\n                //文字颜色的随机色\n                return (\n                  \"rgb(\" +\n                  [\n                    Math.round(Math.random() * 200),\n                    Math.round(Math.random() * 100),\n                    Math.round(Math.random() * 300),\n                  ].join(\",\") +\n                  \")\"\n                );\n              },\n            },\n            data: data,\n          },\n        ],\n      };\n      this.myChart.setOption(option);\n      // 使用刚指定的配置项和数据显示图表。\n      option && this.myChart.setOption(option);\n    },\n  },\n  mounted() {\n\n    this.$bus.$on(\"send_tag_task_id\", (tag_task_id) => {\n      console.log(\"这里是词云组件,收到了数据:\", tag_task_id);\n      this.getCloudWord(tag_task_id);\n    });\n    this.timer = setInterval(() => {\n      this.myWordCloud(this.cloud_word);\n    }, 5000);\n  },\n  beforeDestroy() {\n    this.$bus.$off(\"send_tag_task_id\");\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n};\n</script>\n\n<style scpoed>\n.word_cloud {\n  position: absolute;\n  width: 100%;\n  height: 30%;\n  background-color: #fff;\n}\n.word_cloud_top {\n  margin-left: 10px;\n}\n.w_title {\n  padding-top: 10px;\n  height: 50px;\n  text-align: center;\n  font-size: 20px;\n}\n#chars_word_cloud {\n  width: 400px;\n  height: 200px;\n  top: -10px;\n}\n.icon {\n  position: relative;\n  top: 8px;\n}\n</style>"]}]}