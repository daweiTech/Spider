{"remainingRequest":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\pages\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\src\\pages\\login.vue","mtime":1673006195000},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1673935857034},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673935854020},{"path":"D:\\Googledownload\\Topic_and_user_profile_analysis_system-master\\code\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1673935857333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxfaW5mbzogIiIsCiAgICAgIHNpZ25faW5fdXNlcjogIiIsCiAgICAgIHNpZ25faW5fcGFzc3dvcmQ6ICIiLAogICAgICBzaWduX3VwX3VzZXI6ICIiLAogICAgICBzaWduX3VwX3Bhc3N3b3JkOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN3aXRjaCgpOwogICAgdGhpcy5nZXRVc2VySW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlckluZm8oKSB7CiAgICAgIHRoaXMuJGF4aW9zLmdldCgidXNlci5qc29uIikudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5hbGxfaW5mbyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBzd2l0Y2goKSB7CiAgICAgIC8vIOaIkeS7rOmcgOimgeiOt+WPluS4pOS4quWIh+aNouaMiemSriDlm6DmraTpnIDopoHliLBodG1s57uT5p6E5LitIOWumuS5ieeJueauiuexu+WQjeaIlmlk5ZCNCiAgICAgIGNvbnN0IGdvU2lnbkluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2dvU2lnbkluIik7CiAgICAgIGNvbnN0IGdvU2lnblVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2dvU2lnblVwIik7CiAgICAgIC8vIOiOt+WPluiiq+WIh+aNoueahOagt+W8j+exuwogICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY29udGFpbmVyIik7CiAgICAgIC8vIOa3u+WKoOeCueWHu+S6i+S7tgogICAgICBnb1NpZ25Jbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgic3dpdGNoIik7CiAgICAgIH0pOwogICAgICBnb1NpZ25VcC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgic3dpdGNoIik7CiAgICAgIH0pOwogICAgfSwKICAgIFNpZ25VcCgpIHsKICAgICAgdGhpcy5nZXRVc2VySW5nbygpOwogICAgICBsZXQgc2lnbl91cF9pbmZvID0ge307CiAgICAgIHNpZ25fdXBfaW5mby51c2VyID0gdGhpcy5zaWduX3VwX3VzZXI7CiAgICAgIHNpZ25fdXBfaW5mby5wYXNzd29yZCA9IHRoaXMuc2lnbl91cF9wYXNzd29yZDsKICAgICAgc2lnbl91cF9pbmZvLmVtYWlsID0gdGhpcy5lbWFpbDsKICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAucHV0KCJ1c2VyLyIgKyB0aGlzLnNpZ25fdXBfdXNlciArICIuanNvbiIsIHNpZ25fdXBfaW5mbykKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNpZ25fdXBfdXNlciA9ICIiOwogICAgICAgICAgdGhpcy5zaWduX3VwX3Bhc3N3b3JkID0gIiI7CiAgICAgICAgICB0aGlzLmVtYWlsID0gIiI7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAi5oGt5Zac5L2g77yM5rOo5YaM5oiQ5YqfIiwKICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgIH0pOwogICAgfSwKICAgIFNpZ25JbigpIHsKICAgICAgdGhpcy5nZXRVc2VySW5mbygpOwogICAgICAvL2ZsYWc6IDDmnKrmib7liLDotKbmiLcgZmxhZzogMei0puaIt+WtmOWcqOWvhueggeS4jeWvuSBmbGFnOiAy6LSm5oi35a+G56CB6YO95q2j56GuCiAgICAgIGxldCBmbGFnID0gMDsKICAgICAgT2JqZWN0LmtleXModGhpcy5hbGxfaW5mbykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgaWYgKHRoaXMuc2lnbl9pbl91c2VyID09IGtleSkgewogICAgICAgICAgZmxhZyA9IDE7CiAgICAgICAgICBpZiAodGhpcy5zaWduX2luX3Bhc3N3b3JkID09IHRoaXMuYWxsX2luZm9ba2V5XS5wYXNzd29yZCkgewogICAgICAgICAgICBmbGFnID0gMjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoZmxhZyA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5pyq5om+5Yiw6K+l55So5oi3IiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKGZsYWcgPT0gMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWvhueggemUmeivryIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmIChmbGFnID09IDIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLnmbvlvZXmiJDlip8iLAogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgIH0pOwogICAgICAgIGxldCB1c2VyX2luZm8gPSB7CiAgICAgICAgICB1c2VyOnRoaXMuc2lnbl9pbl91c2VyLAogICAgICAgICAgcGFzc3dvcmQ6dGhpcy5zaWduX2luX3Bhc3N3b3JkCiAgICAgICAgfQogICAgICAgIHVzZXJfaW5mbyA9IEpTT04uc3RyaW5naWZ5KHVzZXJfaW5mbykKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLHVzZXJfaW5mbykKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonL2hvbWUnfSkKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"yqLogin\">\n    <div class=\"container switch\">\n      <!-- 注册页面 -->\n      <div class=\"container-form container-signup\">\n        <form action=\"javascript:void(0);\" class=\"form\">\n          <h2 class=\"form-title\">Sign Up</h2>\n          <input\n            type=\"text\"\n            placeholder=\"User\"\n            class=\"input\"\n            v-model=\"sign_up_user\"\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            class=\"input\"\n            v-model=\"email\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            class=\"input\"\n            v-model=\"sign_up_password\"\n          />\n          <button class=\"submit\" @click=\"SignUp\">sign up</button>\n        </form>\n      </div>\n      <!-- 登录页面 -->\n      <div class=\"container-form container-signin\">\n        <form action=\"javascript:void(0);\" class=\"form\">\n          <h2 class=\"form-title\">Sign In</h2>\n          <input\n            type=\"text\"\n            placeholder=\"User\"\n            class=\"input\"\n            v-model=\"sign_in_user\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            class=\"input\"\n            v-model=\"sign_in_password\"\n          />\n          <a href=\"javascript:void(0);\">forget your password?</a>\n          <button class=\"submit\" @click=\"SignIn\">sign in</button>\n        </form>\n      </div>\n      <!-- 覆盖层 -->\n      <div class=\"container-overlay\">\n        <div class=\"overlay\">\n          <div class=\"overlay-slide overlay-left\">\n            <button class=\"submit\" id=\"goSignIn\">sign up</button>\n          </div>\n          <div class=\"overlay-slide overlay-right\">\n            <button class=\"submit\" id=\"goSignUp\">sign in</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      all_info: \"\",\n      sign_in_user: \"\",\n      sign_in_password: \"\",\n      sign_up_user: \"\",\n      sign_up_password: \"\",\n      email: \"\",\n    };\n  },\n  mounted() {\n    this.switch();\n    this.getUserInfo();\n  },\n  methods: {\n    getUserInfo() {\n      this.$axios.get(\"user.json\").then((res) => {\n        this.all_info = res.data;\n      });\n    },\n    switch() {\n      // 我们需要获取两个切换按钮 因此需要到html结构中 定义特殊类名或id名\n      const goSignIn = document.querySelector(\"#goSignIn\");\n      const goSignUp = document.querySelector(\"#goSignUp\");\n      // 获取被切换的样式类\n      const container = document.querySelector(\".container\");\n      // 添加点击事件\n      goSignIn.addEventListener(\"click\", () => {\n        container.classList.remove(\"switch\");\n      });\n      goSignUp.addEventListener(\"click\", () => {\n        container.classList.add(\"switch\");\n      });\n    },\n    SignUp() {\n      this.getUserIngo();\n      let sign_up_info = {};\n      sign_up_info.user = this.sign_up_user;\n      sign_up_info.password = this.sign_up_password;\n      sign_up_info.email = this.email;\n      this.$axios\n        .put(\"user/\" + this.sign_up_user + \".json\", sign_up_info)\n        .then(() => {\n          this.sign_up_user = \"\";\n          this.sign_up_password = \"\";\n          this.email = \"\";\n        });\n      this.$message({\n        showClose: true,\n        message: \"恭喜你，注册成功\",\n        type: \"success\",\n      });\n    },\n    SignIn() {\n      this.getUserInfo();\n      //flag: 0未找到账户 flag: 1账户存在密码不对 flag: 2账户密码都正确\n      let flag = 0;\n      Object.keys(this.all_info).forEach((key) => {\n        if (this.sign_in_user == key) {\n          flag = 1;\n          if (this.sign_in_password == this.all_info[key].password) {\n            flag = 2;\n          }\n        }\n      });\n      if (flag == 0) {\n        this.$message({\n          showClose: true,\n          message: \"未找到该用户\",\n          type: \"error\",\n        });\n      }\n      if (flag == 1) {\n        this.$message({\n          showClose: true,\n          message: \"密码错误\",\n          type: \"error\",\n        });\n      }\n      if (flag == 2) {\n        this.$message({\n          showClose: true,\n          message: \"登录成功\",\n          type: \"success\",\n        });\n        let user_info = {\n          user:this.sign_in_user,\n          password:this.sign_in_password\n        }\n        user_info = JSON.stringify(user_info)\n        localStorage.setItem(\"token\",user_info)\n        this.$router.push({path:'/home'})\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  box-sizing: border-box;\n}\n/* 清除input、button默认边框以及点击高亮 */\ninput,\nbutton {\n  outline: none;\n  border: none;\n}\n/* 清除a标签默认下划线 颜色设置为#333 */\na {\n  text-decoration: none;\n  color: #333;\n  margin: 1.25rem 0;\n}\n/* 页面整体样式 */\n.yqLogin {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: url(\"https://cdn.pixabay.com/photo/2020/01/30/12/28/st-petersburg-4805301_960_720.jpg\")\n    no-repeat fixed center;\n  background-size: cover;\n}\n/* 盒子样式 */\n.container {\n  position: relative;\n  width: 50vw;\n  height: 70vh;\n  background-color: #e9e9e9;\n  box-shadow: 0 1rem 1.5rem rgba(0, 0, 0, 0.3),\n    0 0.5rem 0.5rem rgba(0, 0, 0, 0.2);\n  border-radius: 1rem;\n  overflow: hidden;\n}\n/* 将两个form表单设置绝对定位 */\n.container-form {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  transition: all 0.5s ease-in-out;\n}\n/* 设置注册页样式 */\n.container-signin {\n  left: 0;\n  width: 50%;\n  z-index: 1;\n  opacity: 0;\n}\n/* 设置登录页样式 */\n.container-signup {\n  left: 0;\n  width: 50%;\n  z-index: 2;\n  opacity: 1;\n}\n/* 默认显示signup注册页，通过操作switch类名 显示登录页 */\n.container.switch .container-signin {\n  transform: translateX(100%);\n  z-index: 5;\n  opacity: 1;\n}\n.container.switch .container-signup {\n  transform: translateX(100%);\n  opacity: 0;\n}\n/* 设置覆盖层 */\n.container-overlay {\n  position: absolute;\n  left: 50%;\n  top: 0;\n  width: 50%;\n  height: 100%;\n  overflow: hidden;\n  transform: translateX(0);\n  transition: transform 0.5s ease-in-out;\n  z-index: 999;\n}\n/* 设置显示背景图 */\n.overlay {\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 200%;\n  height: 100%;\n  background: url(\"https://cdn.pixabay.com/photo/2020/01/30/12/28/st-petersburg-4805301_960_720.jpg\")\n    no-repeat fixed center;\n  background-size: cover;\n  transition: transform 0.5s ease-in-out;\n}\n/* 默认左边显示 通过操作switch类名显示登录页 */\n.container.switch .container-overlay {\n  transform: translateX(-100%);\n}\n.container.switch .overlay {\n  transform: translateX(50%);\n}\n/* 设置切换按钮页样式 */\n.overlay-slide {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 50%;\n  transition: transform 0.5s ease-in-out;\n}\n.overlay-left {\n  transform: translateX(-20%);\n}\n.overlay-right {\n  transform: translateX(0);\n  right: 0;\n}\n.container.switch .overlay-left {\n  transform: translateX(0);\n}\n.container.switch .overlay-right {\n  transform: translateX(20%);\n}\n/* 设置表单内元素样式 */\n.form {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 0 1rem;\n}\n/* 设置input标签样式 */\n.input {\n  width: 100%;\n  height: 8%;\n  margin: 0.5rem 0;\n  padding: 1rem;\n}\n/* 设置表单标题样式 */\n.form-title {\n  font-weight: 300;\n  margin-bottom: 1rem;\n}\n/* 设置按钮样式 */\n.submit {\n  padding: 1rem 3rem;\n  background-image: -webkit-linear-gradient(40deg, #0367a6 0%, #008997 70%);\n  border-radius: 1rem;\n  color: #fff;\n  cursor: pointer;\n  text-transform: uppercase;\n  transition: transform 0.1s ease-in-out;\n}\n/* 只设置表单按钮的外边距 */\n.form > .submit {\n  margin-top: 1.5rem;\n}\n/* 设置按钮按下样式 */\n.submit:active {\n  transform: scale(0.95);\n}\n</style>"]}]}